<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Script rc.lua - awesome API documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>awesome</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>



<h2>Sample files</h2>
<ul class="nowrap">
  <li><strong>rc.lua</strong></li>
  <li><a href="../sample files/theme.lua.html">theme.lua</a></li>
</ul>
<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/awesome.html">awesome</a></li>
  <li><a href="../libraries/awful.client.html">awful.client</a></li>
  <li><a href="../libraries/awful.completion.html">awful.completion</a></li>
  <li><a href="../libraries/awful.ewmh.html">awful.ewmh</a></li>
  <li><a href="../libraries/awful.hotkeys_popup.html">awful.hotkeys_popup</a></li>
  <li><a href="../libraries/awful.hotkeys_popup.widget.html">awful.hotkeys_popup.widget</a></li>
  <li><a href="../libraries/awful.key.html">awful.key</a></li>
  <li><a href="../libraries/awful.layout.html">awful.layout</a></li>
  <li><a href="../libraries/awful.menu.html">awful.menu</a></li>
  <li><a href="../libraries/awful.mouse.html">awful.mouse</a></li>
  <li><a href="../libraries/awful.placement.html">awful.placement</a></li>
  <li><a href="../libraries/awful.prompt.html">awful.prompt</a></li>
  <li><a href="../libraries/awful.rules.html">awful.rules</a></li>
  <li><a href="../libraries/awful.screen.html">awful.screen</a></li>
  <li><a href="../libraries/awful.spawn.html">awful.spawn</a></li>
  <li><a href="../libraries/awful.tag.html">awful.tag</a></li>
  <li><a href="../libraries/awful.util.html">awful.util</a></li>
  <li><a href="../libraries/awful.wibox.html">awful.wibox</a></li>
  <li><a href="../libraries/beautiful.html">beautiful</a></li>
  <li><a href="../libraries/beautiful.gtk.html">beautiful.gtk</a></li>
  <li><a href="../libraries/dbus.html">dbus</a></li>
  <li><a href="../libraries/gears.color.html">gears.color</a></li>
  <li><a href="../libraries/gears.debug.html">gears.debug</a></li>
  <li><a href="../libraries/gears.filesystem.html">gears.filesystem</a></li>
  <li><a href="../libraries/gears.geometry.html">gears.geometry</a></li>
  <li><a href="../libraries/gears.math.html">gears.math</a></li>
  <li><a href="../libraries/gears.protected_call.html">gears.protected_call</a></li>
  <li><a href="../libraries/gears.shape.html">gears.shape</a></li>
  <li><a href="../libraries/gears.sort.html">gears.sort</a></li>
  <li><a href="../libraries/gears.string.html">gears.string</a></li>
  <li><a href="../libraries/gears.surface.html">gears.surface</a></li>
  <li><a href="../libraries/gears.table.html">gears.table</a></li>
  <li><a href="../libraries/gears.wallpaper.html">gears.wallpaper</a></li>
  <li><a href="../libraries/menubar.html">menubar</a></li>
  <li><a href="../libraries/menubar.menu_gen.html">menubar.menu_gen</a></li>
  <li><a href="../libraries/menubar.utils.html">menubar.utils</a></li>
  <li><a href="../libraries/mouse.html">mouse</a></li>
  <li><a href="../libraries/mousegrabber.html">mousegrabber</a></li>
  <li><a href="../libraries/naughty.html">naughty</a></li>
  <li><a href="../libraries/naughty.dbus.html">naughty.dbus</a></li>
  <li><a href="../libraries/root.html">root</a></li>
  <li><a href="../libraries/selection.html">selection</a></li>
  <li><a href="../libraries/wibox.hierarchy.html">wibox.hierarchy</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/awful.button.html">awful.button</a></li>
  <li><a href="../classes/awful.keygrabber.html">awful.keygrabber</a></li>
  <li><a href="../classes/awful.popup.html">awful.popup</a></li>
  <li><a href="../classes/awful.titlebar.html">awful.titlebar</a></li>
  <li><a href="../classes/awful.tooltip.html">awful.tooltip</a></li>
  <li><a href="../classes/awful.wibar.html">awful.wibar</a></li>
  <li><a href="../classes/awful.widget.button.html">awful.widget.button</a></li>
  <li><a href="../classes/awful.widget.calendar_popup.html">awful.widget.calendar_popup</a></li>
  <li><a href="../classes/awful.widget.clienticon.html">awful.widget.clienticon</a></li>
  <li><a href="../classes/awful.widget.common.html">awful.widget.common</a></li>
  <li><a href="../classes/awful.widget.keyboardlayout.html">awful.widget.keyboardlayout</a></li>
  <li><a href="../classes/awful.widget.launcher.html">awful.widget.launcher</a></li>
  <li><a href="../classes/awful.widget.layoutbox.html">awful.widget.layoutbox</a></li>
  <li><a href="../classes/awful.widget.layoutlist.html">awful.widget.layoutlist</a></li>
  <li><a href="../classes/awful.widget.only_on_screen.html">awful.widget.only_on_screen</a></li>
  <li><a href="../classes/awful.widget.prompt.html">awful.widget.prompt</a></li>
  <li><a href="../classes/awful.widget.taglist.html">awful.widget.taglist</a></li>
  <li><a href="../classes/awful.widget.tasklist.html">awful.widget.tasklist</a></li>
  <li><a href="../classes/awful.widget.textclock.html">awful.widget.textclock</a></li>
  <li><a href="../classes/awful.widget.watch.html">awful.widget.watch</a></li>
  <li><a href="../classes/button.html">button</a></li>
  <li><a href="../classes/client.html">client</a></li>
  <li><a href="../classes/drawable.html">drawable</a></li>
  <li><a href="../classes/gears.cache.html">gears.cache</a></li>
  <li><a href="../classes/gears.matrix.html">gears.matrix</a></li>
  <li><a href="../classes/gears.object.html">gears.object</a></li>
  <li><a href="../classes/gears.timer.html">gears.timer</a></li>
  <li><a href="../classes/key.html">key</a></li>
  <li><a href="../classes/menubar.icon_theme.html">menubar.icon_theme</a></li>
  <li><a href="../classes/menubar.index_theme.html">menubar.index_theme</a></li>
  <li><a href="../classes/screen.html">screen</a></li>
  <li><a href="../classes/signals.html">signals</a></li>
  <li><a href="../classes/tag.html">tag</a></li>
  <li><a href="../classes/wibox.html">wibox</a></li>
  <li><a href="../classes/wibox.container.arcchart.html">wibox.container.arcchart</a></li>
  <li><a href="../classes/wibox.container.background.html">wibox.container.background</a></li>
  <li><a href="../classes/wibox.container.constraint.html">wibox.container.constraint</a></li>
  <li><a href="../classes/wibox.container.margin.html">wibox.container.margin</a></li>
  <li><a href="../classes/wibox.container.mirror.html">wibox.container.mirror</a></li>
  <li><a href="../classes/wibox.container.place.html">wibox.container.place</a></li>
  <li><a href="../classes/wibox.container.radialprogressbar.html">wibox.container.radialprogressbar</a></li>
  <li><a href="../classes/wibox.container.rotate.html">wibox.container.rotate</a></li>
  <li><a href="../classes/wibox.container.scroll.html">wibox.container.scroll</a></li>
  <li><a href="../classes/wibox.drawable.html">wibox.drawable</a></li>
  <li><a href="../classes/wibox.layout.align.html">wibox.layout.align</a></li>
  <li><a href="../classes/wibox.layout.fixed.html">wibox.layout.fixed</a></li>
  <li><a href="../classes/wibox.layout.flex.html">wibox.layout.flex</a></li>
  <li><a href="../classes/wibox.layout.grid.html">wibox.layout.grid</a></li>
  <li><a href="../classes/wibox.layout.manual.html">wibox.layout.manual</a></li>
  <li><a href="../classes/wibox.layout.ratio.html">wibox.layout.ratio</a></li>
  <li><a href="../classes/wibox.layout.stack.html">wibox.layout.stack</a></li>
  <li><a href="../classes/wibox.widget.html">wibox.widget</a></li>
  <li><a href="../classes/wibox.widget.base.html">wibox.widget.base</a></li>
  <li><a href="../classes/wibox.widget.calendar.html">wibox.widget.calendar</a></li>
  <li><a href="../classes/wibox.widget.checkbox.html">wibox.widget.checkbox</a></li>
  <li><a href="../classes/wibox.widget.graph.html">wibox.widget.graph</a></li>
  <li><a href="../classes/wibox.widget.imagebox.html">wibox.widget.imagebox</a></li>
  <li><a href="../classes/wibox.widget.piechart.html">wibox.widget.piechart</a></li>
  <li><a href="../classes/wibox.widget.progressbar.html">wibox.widget.progressbar</a></li>
  <li><a href="../classes/wibox.widget.separator.html">wibox.widget.separator</a></li>
  <li><a href="../classes/wibox.widget.slider.html">wibox.widget.slider</a></li>
  <li><a href="../classes/wibox.widget.systray.html">wibox.widget.systray</a></li>
  <li><a href="../classes/wibox.widget.textbox.html">wibox.widget.textbox</a></li>
  <li><a href="../classes/wibox.widget.textclock.html">wibox.widget.textclock</a></li>
  <li><a href="../classes/xproperties.html">xproperties</a></li>
</ul>
<h2>Documentation</h2>
<ul class="nowrap">
  <li><a href="../documentation/00-authors.md.html">Authors</a></li>
  <li><a href="../documentation/01-readme.md.html">Readme</a></li>
  <li><a href="../documentation/02-contributing.md.html">Contributing</a></li>
  <li><a href="../documentation/03-declarative-layout.md.html">The AwesomeWM widget system</a></li>
  <li><a href="../documentation/04-new-widgets.md.html">Creating new widget</a></li>
  <li><a href="../documentation/05-awesomerc.md.html">Default configuration file documentation</a></li>
  <li><a href="../documentation/06-appearance.md.html">Change Awesome appearance</a></li>
  <li><a href="../documentation/07-my-first-awesome.md.html">My first Awesome</a></li>
  <li><a href="../documentation/16-using-cairo.md.html">Using Cairo and LGI</a></li>
  <li><a href="../documentation/17-porting-tips.md.html">Tips for upgrading your configuration</a></li>
  <li><a href="../documentation/89-NEWS.md.html">NEWS</a></li>
  <li><a href="../documentation/90-FAQ.md.html">FAQ</a></li>
</ul>

</div>

<div id="content">

<h1>Script <code>rc.lua</code></h1>
<p>The default rc.lua file.</p>
<p><p> A copy of this file is usually installed in <code>/etc/xdg/awesome/</code>.</p>

<p> See <a href="../documentation/05-awesomerc.md.html">The declarative layout system</a>
 for a version with additional comments.</p>

<pre><span class="comment">-- If LuaRocks is installed, make sure that packages installed through it are
</span><span class="comment">-- found (e.g. lgi). If LuaRocks is not installed, do nothing.
</span><span class="global">pcall</span>(<span class="global">require</span>, <span class="string">"luarocks.loader"</span>)

<span class="comment">-- Standard awesome library
</span><span class="keyword">local</span> gears = <span class="global">require</span>(<span class="string">"gears"</span>)
<span class="keyword">local</span> awful = <span class="global">require</span>(<span class="string">"awful"</span>)
<span class="global">require</span>(<span class="string">"awful.autofocus"</span>)
<span class="comment">-- Widget and layout library
</span><span class="keyword">local</span> wibox = <span class="global">require</span>(<span class="string">"wibox"</span>)
<span class="comment">-- Theme handling library
</span><span class="keyword">local</span> beautiful = <span class="global">require</span>(<span class="string">"beautiful"</span>)
<span class="comment">-- Notification library
</span><span class="keyword">local</span> naughty = <span class="global">require</span>(<span class="string">"naughty"</span>)
<span class="keyword">local</span> menubar = <span class="global">require</span>(<span class="string">"menubar"</span>)
<span class="keyword">local</span> hotkeys_popup = <span class="global">require</span>(<span class="string">"awful.hotkeys_popup"</span>)
<span class="comment">-- Enable hotkeys help widget for VIM and other apps
</span><span class="comment">-- when client with a matching name is opened:
</span><span class="global">require</span>(<span class="string">"awful.hotkeys_popup.keys"</span>)

<span class="comment">-- {{{ Error handling
</span><span class="comment">-- Check if awesome encountered an error during startup and fell back to
</span><span class="comment">-- another config (This code will only ever execute for the fallback config)
</span><span class="keyword">if</span> awesome.startup_errors <span class="keyword">then</span>
    naughty.notify({ preset = naughty.config.presets.critical,
                     title = <span class="string">"Oops, there were errors during startup!"</span>,
                     text = awesome.startup_errors })
<span class="keyword">end</span>

<span class="comment">-- Handle runtime errors after startup
</span><span class="keyword">do</span>
    <span class="keyword">local</span> in_error = <span class="keyword">false</span>
    awesome.connect_signal(<span class="string">"debug::error"</span>, <span class="keyword">function</span> (err)
        <span class="comment">-- Make sure we don't go into an endless error loop
</span>        <span class="keyword">if</span> in_error <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>
        in_error = <span class="keyword">true</span>

        naughty.notify({ preset = naughty.config.presets.critical,
                         title = <span class="string">"Oops, an error happened!"</span>,
                         text = <span class="global">tostring</span>(err) })
        in_error = <span class="keyword">false</span>
    <span class="keyword">end</span>)
<span class="keyword">end</span>
<span class="comment">-- }}}
</span>
<span class="comment">-- {{{ Variable definitions
</span><span class="comment">-- Themes define colours, icons, font and wallpapers.
</span>beautiful.init(gears.filesystem.get_themes_dir() .. <span class="string">"default/theme.lua"</span>)

<span class="comment">-- This is used later as the default terminal and editor to run.
</span>terminal = <span class="string">"xterm"</span>
editor = <span class="global">os</span>.getenv(<span class="string">"EDITOR"</span>) <span class="keyword">or</span> <span class="string">"nano"</span>
editor_cmd = terminal .. <span class="string">" -e "</span> .. editor

<span class="comment">-- Default modkey.
</span><span class="comment">-- Usually, Mod4 is the key with a logo between Control and Alt.
</span><span class="comment">-- If you do not like this or do not have such a key,
</span><span class="comment">-- I suggest you to remap Mod4 to another key using xmodmap or other tools.
</span><span class="comment">-- However, you can use another modifier like Mod1, but it may interact with others.
</span>modkey = <span class="string">"Mod4"</span>

<span class="comment">-- Table of layouts to cover with awful.layout.inc, order matters.
</span>awful.layout.layouts = {
    awful.layout.suit.floating,
    awful.layout.suit.tile,
    awful.layout.suit.tile.left,
    awful.layout.suit.tile.bottom,
    awful.layout.suit.tile.top,
    awful.layout.suit.fair,
    awful.layout.suit.fair.horizontal,
    awful.layout.suit.spiral,
    awful.layout.suit.spiral.dwindle,
    awful.layout.suit.max,
    awful.layout.suit.max.fullscreen,
    awful.layout.suit.magnifier,
    awful.layout.suit.corner.nw,
    <span class="comment">-- awful.layout.suit.corner.ne,
</span>    <span class="comment">-- awful.layout.suit.corner.sw,
</span>    <span class="comment">-- awful.layout.suit.corner.se,
</span>}
<span class="comment">-- }}}
</span>
<span class="comment">-- {{{ Menu
</span><span class="comment">-- Create a launcher widget and a main menu
</span>myawesomemenu = {
   { <span class="string">"hotkeys"</span>, <span class="keyword">function</span>() hotkeys_popup.show_help(<span class="keyword">nil</span>, awful.screen.focused()) <span class="keyword">end</span> },
   { <span class="string">"manual"</span>, terminal .. <span class="string">" -e man awesome"</span> },
   { <span class="string">"edit config"</span>, editor_cmd .. <span class="string">" "</span> .. awesome.conffile },
   { <span class="string">"restart"</span>, awesome.restart },
   { <span class="string">"quit"</span>, <span class="keyword">function</span>() awesome.quit() <span class="keyword">end</span> },
}

mymainmenu = awful.menu({ items = { { <span class="string">"awesome"</span>, myawesomemenu, beautiful.awesome_icon },
                                    { <span class="string">"open terminal"</span>, terminal }
                                  }
                        })

mylauncher = awful.widget.launcher({ image = beautiful.awesome_icon,
                                     menu = mymainmenu })

<span class="comment">-- Menubar configuration
</span>menubar.utils.terminal = terminal <span class="comment">-- Set the terminal for applications that require it
</span><span class="comment">-- }}}
</span>
<span class="comment">-- Keyboard map indicator and switcher
</span>mykeyboardlayout = awful.widget.keyboardlayout()

<span class="comment">-- {{{ Wibar
</span><span class="comment">-- Create a textclock widget
</span>mytextclock = wibox.widget.textclock()

<span class="comment">-- Create a wibox for each screen and add it
</span><span class="keyword">local</span> taglist_buttons = gears.<span class="global">table</span>.join(
                    awful.button({ }, <span class="number">1</span>, <span class="keyword">function</span>(t) t:view_only() <span class="keyword">end</span>),
                    awful.button({ modkey }, <span class="number">1</span>, <span class="keyword">function</span>(t)
                                              <span class="keyword">if</span> client.focus <span class="keyword">then</span>
                                                  client.focus:move_to_tag(t)
                                              <span class="keyword">end</span>
                                          <span class="keyword">end</span>),
                    awful.button({ }, <span class="number">3</span>, awful.tag.viewtoggle),
                    awful.button({ modkey }, <span class="number">3</span>, <span class="keyword">function</span>(t)
                                              <span class="keyword">if</span> client.focus <span class="keyword">then</span>
                                                  client.focus:toggle_tag(t)
                                              <span class="keyword">end</span>
                                          <span class="keyword">end</span>),
                    awful.button({ }, <span class="number">4</span>, <span class="keyword">function</span>(t) awful.tag.viewnext(t.screen) <span class="keyword">end</span>),
                    awful.button({ }, <span class="number">5</span>, <span class="keyword">function</span>(t) awful.tag.viewprev(t.screen) <span class="keyword">end</span>)
                )

<span class="keyword">local</span> tasklist_buttons = gears.<span class="global">table</span>.join(
                     awful.button({ }, <span class="number">1</span>, <span class="keyword">function</span> (c)
                                              <span class="keyword">if</span> c == client.focus <span class="keyword">then</span>
                                                  c.minimized = <span class="keyword">true</span>
                                              <span class="keyword">else</span>
                                                  c:emit_signal(
                                                      <span class="string">"request::activate"</span>,
                                                      <span class="string">"tasklist"</span>,
                                                      {raise = <span class="keyword">true</span>}
                                                  )
                                              <span class="keyword">end</span>
                                          <span class="keyword">end</span>),
                     awful.button({ }, <span class="number">3</span>, <span class="keyword">function</span>()
                                              awful.menu.client_list({ theme = { width = <span class="number">250</span> } })
                                          <span class="keyword">end</span>),
                     awful.button({ }, <span class="number">4</span>, <span class="keyword">function</span> ()
                                              awful.client.focus.byidx(<span class="number">1</span>)
                                          <span class="keyword">end</span>),
                     awful.button({ }, <span class="number">5</span>, <span class="keyword">function</span> ()
                                              awful.client.focus.byidx(-<span class="number">1</span>)
                                          <span class="keyword">end</span>))

<span class="keyword">local</span> <span class="keyword">function</span> set_wallpaper(s)
    <span class="comment">-- Wallpaper
</span>    <span class="keyword">if</span> beautiful.wallpaper <span class="keyword">then</span>
        <span class="keyword">local</span> wallpaper = beautiful.wallpaper
        <span class="comment">-- If wallpaper is a function, call it with the screen
</span>        <span class="keyword">if</span> <span class="global">type</span>(wallpaper) == <span class="string">"function"</span> <span class="keyword">then</span>
            wallpaper = wallpaper(s)
        <span class="keyword">end</span>
        gears.wallpaper.maximized(wallpaper, s, <span class="keyword">true</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="comment">-- Re-set wallpaper when a screen's geometry changes (e.g. different resolution)
</span>screen.connect_signal(<span class="string">"property::geometry"</span>, set_wallpaper)

awful.screen.connect_for_each_screen(<span class="keyword">function</span>(s)
    <span class="comment">-- Wallpaper
</span>    set_wallpaper(s)

    <span class="comment">-- Each screen has its own tag table.
</span>    awful.tag({ <span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>, <span class="string">"6"</span>, <span class="string">"7"</span>, <span class="string">"8"</span>, <span class="string">"9"</span> }, s, awful.layout.layouts[<span class="number">1</span>])

    <span class="comment">-- Create a promptbox for each screen
</span>    s.mypromptbox = awful.widget.prompt()
    <span class="comment">-- Create an imagebox widget which will contain an icon indicating which layout we're using.
</span>    <span class="comment">-- We need one layoutbox per screen.
</span>    s.mylayoutbox = awful.widget.layoutbox(s)
    s.mylayoutbox:buttons(gears.<span class="global">table</span>.join(
                           awful.button({ }, <span class="number">1</span>, <span class="keyword">function</span> () awful.layout.inc( <span class="number">1</span>) <span class="keyword">end</span>),
                           awful.button({ }, <span class="number">3</span>, <span class="keyword">function</span> () awful.layout.inc(-<span class="number">1</span>) <span class="keyword">end</span>),
                           awful.button({ }, <span class="number">4</span>, <span class="keyword">function</span> () awful.layout.inc( <span class="number">1</span>) <span class="keyword">end</span>),
                           awful.button({ }, <span class="number">5</span>, <span class="keyword">function</span> () awful.layout.inc(-<span class="number">1</span>) <span class="keyword">end</span>)))
    <span class="comment">-- Create a taglist widget
</span>    s.mytaglist = awful.widget.taglist {
        screen  = s,
        filter  = awful.widget.taglist.filter.all,
        buttons = taglist_buttons
    }

    <span class="comment">-- Create a tasklist widget
</span>    s.mytasklist = awful.widget.tasklist {
        screen  = s,
        filter  = awful.widget.tasklist.filter.currenttags,
        buttons = tasklist_buttons
    }

    <span class="comment">-- Create the wibox
</span>    s.mywibox = awful.wibar({ position = <span class="string">"top"</span>, screen = s })

    <span class="comment">-- Add widgets to the wibox
</span>    s.mywibox:setup {
        layout = wibox.layout.align.horizontal,
        { <span class="comment">-- Left widgets
</span>            layout = wibox.layout.fixed.horizontal,
            mylauncher,
            s.mytaglist,
            s.mypromptbox,
        },
        s.mytasklist, <span class="comment">-- Middle widget
</span>        { <span class="comment">-- Right widgets
</span>            layout = wibox.layout.fixed.horizontal,
            mykeyboardlayout,
            wibox.widget.systray(),
            mytextclock,
            s.mylayoutbox,
        },
    }
<span class="keyword">end</span>)
<span class="comment">-- }}}
</span>
<span class="comment">-- {{{ Mouse bindings
</span>root.buttons(gears.<span class="global">table</span>.join(
    awful.button({ }, <span class="number">3</span>, <span class="keyword">function</span> () mymainmenu:toggle() <span class="keyword">end</span>),
    awful.button({ }, <span class="number">4</span>, awful.tag.viewnext),
    awful.button({ }, <span class="number">5</span>, awful.tag.viewprev)
))
<span class="comment">-- }}}
</span>
<span class="comment">-- {{{ Key bindings
</span>globalkeys = gears.<span class="global">table</span>.join(
    awful.key({ modkey,           }, <span class="string">"s"</span>,      hotkeys_popup.show_help,
              {description=<span class="string">"show help"</span>, group=<span class="string">"awesome"</span>}),
    awful.key({ modkey,           }, <span class="string">"Left"</span>,   awful.tag.viewprev,
              {description = <span class="string">"view previous"</span>, group = <span class="string">"tag"</span>}),
    awful.key({ modkey,           }, <span class="string">"Right"</span>,  awful.tag.viewnext,
              {description = <span class="string">"view next"</span>, group = <span class="string">"tag"</span>}),
    awful.key({ modkey,           }, <span class="string">"Escape"</span>, awful.tag.history.restore,
              {description = <span class="string">"go back"</span>, group = <span class="string">"tag"</span>}),

    awful.key({ modkey,           }, <span class="string">"j"</span>,
        <span class="keyword">function</span> ()
            awful.client.focus.byidx( <span class="number">1</span>)
        <span class="keyword">end</span>,
        {description = <span class="string">"focus next by index"</span>, group = <span class="string">"client"</span>}
    ),
    awful.key({ modkey,           }, <span class="string">"k"</span>,
        <span class="keyword">function</span> ()
            awful.client.focus.byidx(-<span class="number">1</span>)
        <span class="keyword">end</span>,
        {description = <span class="string">"focus previous by index"</span>, group = <span class="string">"client"</span>}
    ),
    awful.key({ modkey,           }, <span class="string">"w"</span>, <span class="keyword">function</span> () mymainmenu:show() <span class="keyword">end</span>,
              {description = <span class="string">"show main menu"</span>, group = <span class="string">"awesome"</span>}),

    <span class="comment">-- Layout manipulation
</span>    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"j"</span>, <span class="keyword">function</span> () awful.client.swap.byidx(  <span class="number">1</span>)    <span class="keyword">end</span>,
              {description = <span class="string">"swap with next client by index"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"k"</span>, <span class="keyword">function</span> () awful.client.swap.byidx( -<span class="number">1</span>)    <span class="keyword">end</span>,
              {description = <span class="string">"swap with previous client by index"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"j"</span>, <span class="keyword">function</span> () awful.screen.focus_relative( <span class="number">1</span>) <span class="keyword">end</span>,
              {description = <span class="string">"focus the next screen"</span>, group = <span class="string">"screen"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"k"</span>, <span class="keyword">function</span> () awful.screen.focus_relative(-<span class="number">1</span>) <span class="keyword">end</span>,
              {description = <span class="string">"focus the previous screen"</span>, group = <span class="string">"screen"</span>}),
    awful.key({ modkey,           }, <span class="string">"u"</span>, awful.client.urgent.jumpto,
              {description = <span class="string">"jump to urgent client"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey,           }, <span class="string">"Tab"</span>,
        <span class="keyword">function</span> ()
            awful.client.focus.history.previous()
            <span class="keyword">if</span> client.focus <span class="keyword">then</span>
                client.focus:raise()
            <span class="keyword">end</span>
        <span class="keyword">end</span>,
        {description = <span class="string">"go back"</span>, group = <span class="string">"client"</span>}),

    <span class="comment">-- Standard program
</span>    awful.key({ modkey,           }, <span class="string">"Return"</span>, <span class="keyword">function</span> () awful.spawn(terminal) <span class="keyword">end</span>,
              {description = <span class="string">"open a terminal"</span>, group = <span class="string">"launcher"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"r"</span>, awesome.restart,
              {description = <span class="string">"reload awesome"</span>, group = <span class="string">"awesome"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"q"</span>, awesome.quit,
              {description = <span class="string">"quit awesome"</span>, group = <span class="string">"awesome"</span>}),

    awful.key({ modkey,           }, <span class="string">"l"</span>,     <span class="keyword">function</span> () awful.tag.incmwfact( <span class="number">0.05</span>)          <span class="keyword">end</span>,
              {description = <span class="string">"increase master width factor"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey,           }, <span class="string">"h"</span>,     <span class="keyword">function</span> () awful.tag.incmwfact(-<span class="number">0.05</span>)          <span class="keyword">end</span>,
              {description = <span class="string">"decrease master width factor"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"h"</span>,     <span class="keyword">function</span> () awful.tag.incnmaster( <span class="number">1</span>, <span class="keyword">nil</span>, <span class="keyword">true</span>) <span class="keyword">end</span>,
              {description = <span class="string">"increase the number of master clients"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"l"</span>,     <span class="keyword">function</span> () awful.tag.incnmaster(-<span class="number">1</span>, <span class="keyword">nil</span>, <span class="keyword">true</span>) <span class="keyword">end</span>,
              {description = <span class="string">"decrease the number of master clients"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"h"</span>,     <span class="keyword">function</span> () awful.tag.incncol( <span class="number">1</span>, <span class="keyword">nil</span>, <span class="keyword">true</span>)    <span class="keyword">end</span>,
              {description = <span class="string">"increase the number of columns"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"l"</span>,     <span class="keyword">function</span> () awful.tag.incncol(-<span class="number">1</span>, <span class="keyword">nil</span>, <span class="keyword">true</span>)    <span class="keyword">end</span>,
              {description = <span class="string">"decrease the number of columns"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey,           }, <span class="string">"space"</span>, <span class="keyword">function</span> () awful.layout.inc( <span class="number">1</span>)                <span class="keyword">end</span>,
              {description = <span class="string">"select next"</span>, group = <span class="string">"layout"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"space"</span>, <span class="keyword">function</span> () awful.layout.inc(-<span class="number">1</span>)                <span class="keyword">end</span>,
              {description = <span class="string">"select previous"</span>, group = <span class="string">"layout"</span>}),

    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"n"</span>,
              <span class="keyword">function</span> ()
                  <span class="keyword">local</span> c = awful.client.restore()
                  <span class="comment">-- Focus restored client
</span>                  <span class="keyword">if</span> c <span class="keyword">then</span>
                    c:emit_signal(
                        <span class="string">"request::activate"</span>, <span class="string">"key.unminimize"</span>, {raise = <span class="keyword">true</span>}
                    )
                  <span class="keyword">end</span>
              <span class="keyword">end</span>,
              {description = <span class="string">"restore minimized"</span>, group = <span class="string">"client"</span>}),

    <span class="comment">-- Prompt
</span>    awful.key({ modkey },            <span class="string">"r"</span>,     <span class="keyword">function</span> () awful.screen.focused().mypromptbox:run() <span class="keyword">end</span>,
              {description = <span class="string">"run prompt"</span>, group = <span class="string">"launcher"</span>}),

    awful.key({ modkey }, <span class="string">"x"</span>,
              <span class="keyword">function</span> ()
                  awful.prompt.run {
                    prompt       = <span class="string">"Run Lua code: "</span>,
                    textbox      = awful.screen.focused().mypromptbox.widget,
                    exe_callback = awful.util.eval,
                    history_path = awful.util.get_cache_dir() .. <span class="string">"/history_eval"</span>
                  }
              <span class="keyword">end</span>,
              {description = <span class="string">"lua execute prompt"</span>, group = <span class="string">"awesome"</span>}),
    <span class="comment">-- Menubar
</span>    awful.key({ modkey }, <span class="string">"p"</span>, <span class="keyword">function</span>() menubar.show() <span class="keyword">end</span>,
              {description = <span class="string">"show the menubar"</span>, group = <span class="string">"launcher"</span>})
)

clientkeys = gears.<span class="global">table</span>.join(
    awful.key({ modkey,           }, <span class="string">"f"</span>,
        <span class="keyword">function</span> (c)
            c.fullscreen = <span class="keyword">not</span> c.fullscreen
            c:raise()
        <span class="keyword">end</span>,
        {description = <span class="string">"toggle fullscreen"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"c"</span>,      <span class="keyword">function</span> (c) c:kill()                         <span class="keyword">end</span>,
              {description = <span class="string">"close"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"space"</span>,  awful.client.floating.toggle                     ,
              {description = <span class="string">"toggle floating"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"Return"</span>, <span class="keyword">function</span> (c) c:swap(awful.client.getmaster()) <span class="keyword">end</span>,
              {description = <span class="string">"move to master"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey,           }, <span class="string">"o"</span>,      <span class="keyword">function</span> (c) c:move_to_screen()               <span class="keyword">end</span>,
              {description = <span class="string">"move to screen"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey,           }, <span class="string">"t"</span>,      <span class="keyword">function</span> (c) c.ontop = <span class="keyword">not</span> c.ontop            <span class="keyword">end</span>,
              {description = <span class="string">"toggle keep on top"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey,           }, <span class="string">"n"</span>,
        <span class="keyword">function</span> (c)
            <span class="comment">-- The client currently has the input focus, so it cannot be
</span>            <span class="comment">-- minimized, since minimized clients can't have the focus.
</span>            c.minimized = <span class="keyword">true</span>
        <span class="keyword">end</span> ,
        {description = <span class="string">"minimize"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey,           }, <span class="string">"m"</span>,
        <span class="keyword">function</span> (c)
            c.maximized = <span class="keyword">not</span> c.maximized
            c:raise()
        <span class="keyword">end</span> ,
        {description = <span class="string">"(un)maximize"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"m"</span>,
        <span class="keyword">function</span> (c)
            c.maximized_vertical = <span class="keyword">not</span> c.maximized_vertical
            c:raise()
        <span class="keyword">end</span> ,
        {description = <span class="string">"(un)maximize vertically"</span>, group = <span class="string">"client"</span>}),
    awful.key({ modkey, <span class="string">"Shift"</span>   }, <span class="string">"m"</span>,
        <span class="keyword">function</span> (c)
            c.maximized_horizontal = <span class="keyword">not</span> c.maximized_horizontal
            c:raise()
        <span class="keyword">end</span> ,
        {description = <span class="string">"(un)maximize horizontally"</span>, group = <span class="string">"client"</span>})
)

<span class="comment">-- Bind all key numbers to tags.
</span><span class="comment">-- Be careful: we use keycodes to make it work on any keyboard layout.
</span><span class="comment">-- This should map on the top row of your keyboard, usually 1 to 9.
</span><span class="keyword">for</span> i = <span class="number">1</span>, <span class="number">9</span> <span class="keyword">do</span>
    globalkeys = gears.<span class="global">table</span>.join(globalkeys,
        <span class="comment">-- View tag only.
</span>        awful.key({ modkey }, <span class="string">"#"</span> .. i + <span class="number">9</span>,
                  <span class="keyword">function</span> ()
                        <span class="keyword">local</span> screen = awful.screen.focused()
                        <span class="keyword">local</span> tag = screen.tags[i]
                        <span class="keyword">if</span> tag <span class="keyword">then</span>
                           tag:view_only()
                        <span class="keyword">end</span>
                  <span class="keyword">end</span>,
                  {description = <span class="string">"view tag #"</span>..i, group = <span class="string">"tag"</span>}),
        <span class="comment">-- Toggle tag display.
</span>        awful.key({ modkey, <span class="string">"Control"</span> }, <span class="string">"#"</span> .. i + <span class="number">9</span>,
                  <span class="keyword">function</span> ()
                      <span class="keyword">local</span> screen = awful.screen.focused()
                      <span class="keyword">local</span> tag = screen.tags[i]
                      <span class="keyword">if</span> tag <span class="keyword">then</span>
                         awful.tag.viewtoggle(tag)
                      <span class="keyword">end</span>
                  <span class="keyword">end</span>,
                  {description = <span class="string">"toggle tag #"</span> .. i, group = <span class="string">"tag"</span>}),
        <span class="comment">-- Move client to tag.
</span>        awful.key({ modkey, <span class="string">"Shift"</span> }, <span class="string">"#"</span> .. i + <span class="number">9</span>,
                  <span class="keyword">function</span> ()
                      <span class="keyword">if</span> client.focus <span class="keyword">then</span>
                          <span class="keyword">local</span> tag = client.focus.screen.tags[i]
                          <span class="keyword">if</span> tag <span class="keyword">then</span>
                              client.focus:move_to_tag(tag)
                          <span class="keyword">end</span>
                     <span class="keyword">end</span>
                  <span class="keyword">end</span>,
                  {description = <span class="string">"move focused client to tag #"</span>..i, group = <span class="string">"tag"</span>}),
        <span class="comment">-- Toggle tag on focused client.
</span>        awful.key({ modkey, <span class="string">"Control"</span>, <span class="string">"Shift"</span> }, <span class="string">"#"</span> .. i + <span class="number">9</span>,
                  <span class="keyword">function</span> ()
                      <span class="keyword">if</span> client.focus <span class="keyword">then</span>
                          <span class="keyword">local</span> tag = client.focus.screen.tags[i]
                          <span class="keyword">if</span> tag <span class="keyword">then</span>
                              client.focus:toggle_tag(tag)
                          <span class="keyword">end</span>
                      <span class="keyword">end</span>
                  <span class="keyword">end</span>,
                  {description = <span class="string">"toggle focused client on tag #"</span> .. i, group = <span class="string">"tag"</span>})
    )
<span class="keyword">end</span>

clientbuttons = gears.<span class="global">table</span>.join(
    awful.button({ }, <span class="number">1</span>, <span class="keyword">function</span> (c)
        c:emit_signal(<span class="string">"request::activate"</span>, <span class="string">"mouse_click"</span>, {raise = <span class="keyword">true</span>})
    <span class="keyword">end</span>),
    awful.button({ modkey }, <span class="number">1</span>, <span class="keyword">function</span> (c)
        c:emit_signal(<span class="string">"request::activate"</span>, <span class="string">"mouse_click"</span>, {raise = <span class="keyword">true</span>})
        awful.mouse.client.move(c)
    <span class="keyword">end</span>),
    awful.button({ modkey }, <span class="number">3</span>, <span class="keyword">function</span> (c)
        c:emit_signal(<span class="string">"request::activate"</span>, <span class="string">"mouse_click"</span>, {raise = <span class="keyword">true</span>})
        awful.mouse.client.resize(c)
    <span class="keyword">end</span>)
)

<span class="comment">-- Set keys
</span>root.keys(globalkeys)
<span class="comment">-- }}}
</span>
<span class="comment">-- {{{ Rules
</span><span class="comment">-- Rules to apply to new clients (through the "manage" signal).
</span>awful.rules.rules = {
    <span class="comment">-- All clients will match this rule.
</span>    { rule = { },
      properties = { border_width = beautiful.border_width,
                     border_color = beautiful.border_normal,
                     focus = awful.client.focus.filter,
                     raise = <span class="keyword">true</span>,
                     keys = clientkeys,
                     buttons = clientbuttons,
                     screen = awful.screen.preferred,
                     placement = awful.placement.no_overlap+awful.placement.no_offscreen
     }
    },

    <span class="comment">-- Floating clients.
</span>    { rule_any = {
        instance = {
          <span class="string">"DTA"</span>,  <span class="comment">-- Firefox addon DownThemAll.
</span>          <span class="string">"copyq"</span>,  <span class="comment">-- Includes session name in class.
</span>          <span class="string">"pinentry"</span>,
        },
        class = {
          <span class="string">"Arandr"</span>,
          <span class="string">"Blueman-manager"</span>,
          <span class="string">"Gpick"</span>,
          <span class="string">"Kruler"</span>,
          <span class="string">"MessageWin"</span>,  <span class="comment">-- kalarm.
</span>          <span class="string">"Sxiv"</span>,
          <span class="string">"Tor Browser"</span>, <span class="comment">-- Needs a fixed window size to avoid fingerprinting by screen size.
</span>          <span class="string">"Wpa_gui"</span>,
          <span class="string">"veromix"</span>,
          <span class="string">"xtightvncviewer"</span>},

        <span class="comment">-- Note that the name property shown in xprop might be set slightly after creation of the client
</span>        <span class="comment">-- and the name shown there might not match defined rules here.
</span>        name = {
          <span class="string">"Event Tester"</span>,  <span class="comment">-- xev.
</span>        },
        role = {
          <span class="string">"AlarmWindow"</span>,  <span class="comment">-- Thunderbird's calendar.
</span>          <span class="string">"ConfigManager"</span>,  <span class="comment">-- Thunderbird's about:config.
</span>          <span class="string">"pop-up"</span>,       <span class="comment">-- e.g. Google Chrome's (detached) Developer Tools.
</span>        }
      }, properties = { floating = <span class="keyword">true</span> }},

    <span class="comment">-- Add titlebars to normal clients and dialogs
</span>    { rule_any = {<span class="global">type</span> = { <span class="string">"normal"</span>, <span class="string">"dialog"</span> }
      }, properties = { titlebars_enabled = <span class="keyword">true</span> }
    },

    <span class="comment">-- Set Firefox to always map on the tag named "2" on screen 1.
</span>    <span class="comment">-- { rule = { class = "Firefox" },
</span>    <span class="comment">--   properties = { screen = 1, tag = "2" } },
</span>}
<span class="comment">-- }}}
</span>
<span class="comment">-- {{{ Signals
</span><span class="comment">-- Signal function to execute when a new client appears.
</span>client.connect_signal(<span class="string">"manage"</span>, <span class="keyword">function</span> (c)
    <span class="comment">-- Set the windows at the slave,
</span>    <span class="comment">-- i.e. put it at the end of others instead of setting it master.
</span>    <span class="comment">-- if not awesome.startup then awful.client.setslave(c) end
</span>
    <span class="keyword">if</span> awesome.startup
      <span class="keyword">and</span> <span class="keyword">not</span> c.size_hints.user_position
      <span class="keyword">and</span> <span class="keyword">not</span> c.size_hints.program_position <span class="keyword">then</span>
        <span class="comment">-- Prevent clients from being unreachable after screen count changes.
</span>        awful.placement.no_offscreen(c)
    <span class="keyword">end</span>
<span class="keyword">end</span>)

<span class="comment">-- Add a titlebar if titlebars_enabled is set to true in the rules.
</span>client.connect_signal(<span class="string">"request::titlebars"</span>, <span class="keyword">function</span>(c)
    <span class="comment">-- buttons for the titlebar
</span>    <span class="keyword">local</span> buttons = gears.<span class="global">table</span>.join(
        awful.button({ }, <span class="number">1</span>, <span class="keyword">function</span>()
            c:emit_signal(<span class="string">"request::activate"</span>, <span class="string">"titlebar"</span>, {raise = <span class="keyword">true</span>})
            awful.mouse.client.move(c)
        <span class="keyword">end</span>),
        awful.button({ }, <span class="number">3</span>, <span class="keyword">function</span>()
            c:emit_signal(<span class="string">"request::activate"</span>, <span class="string">"titlebar"</span>, {raise = <span class="keyword">true</span>})
            awful.mouse.client.resize(c)
        <span class="keyword">end</span>)
    )

    awful.titlebar(c) : setup {
        { <span class="comment">-- Left
</span>            awful.titlebar.widget.iconwidget(c),
            buttons = buttons,
            layout  = wibox.layout.fixed.horizontal
        },
        { <span class="comment">-- Middle
</span>            { <span class="comment">-- Title
</span>                align  = <span class="string">"center"</span>,
                widget = awful.titlebar.widget.titlewidget(c)
            },
            buttons = buttons,
            layout  = wibox.layout.flex.horizontal
        },
        { <span class="comment">-- Right
</span>            awful.titlebar.widget.floatingbutton (c),
            awful.titlebar.widget.maximizedbutton(c),
            awful.titlebar.widget.stickybutton   (c),
            awful.titlebar.widget.ontopbutton    (c),
            awful.titlebar.widget.closebutton    (c),
            layout = wibox.layout.fixed.horizontal()
        },
        layout = wibox.layout.align.horizontal
    }
<span class="keyword">end</span>)

<span class="comment">-- Enable sloppy focus, so that focus follows mouse.
</span>client.connect_signal(<span class="string">"mouse::enter"</span>, <span class="keyword">function</span>(c)
    c:emit_signal(<span class="string">"request::activate"</span>, <span class="string">"mouse_enter"</span>, {raise = <span class="keyword">false</span>})
<span class="keyword">end</span>)

client.connect_signal(<span class="string">"focus"</span>, <span class="keyword">function</span>(c) c.border_color = beautiful.border_focus <span class="keyword">end</span>)
client.connect_signal(<span class="string">"unfocus"</span>, <span class="keyword">function</span>(c) c.border_color = beautiful.border_normal <span class="keyword">end</span>)
<span class="comment">-- }}}</span>
</pre>
</p>



<br/>
<br/>




</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="https://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2022-09-28 18:14:15 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
